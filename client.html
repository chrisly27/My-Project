<script src="node_modules/jquery/dist/jquery.js"></script>
<!-- <script src="jquery-migrate-1.2.1.min.js"></script> -->
<!-- Path to your app js-->
<script type="text/javascript" src="js/my-app.js"></script>


<button onclick="getLocation()">Current Location</button>

<p id="demo"></p>



</br></br></br>
<input type="text" id ="me" placeholder="Latitude"/></br></br>
<input type="text" id ="tu" placeholder="Longitude"/></br></br>

Name</br>
<input type="text" id ="name" placeholder="Your name"/></br></br>
E-mail</br>
<input type="email" id="email" placeholder="E-mail"/></br></br>
Phone</br>
<input type="tel" id="phone" placeholder="Phone"/></br></br>
Short Description</br>
<textarea id="desc" placeholder="Type Description Here"></textarea></br></br>
Road Name (opt)</br>
<input type="text" id="road" placeholder="Road Name"/></br></br>
Date</br>
<input type="date" placeholder="Date" value="2016-05-05" id="date"></br></br>

<input type="submit" id="submit" value="Submit"/></br></br>





<script>

$('#submit').on('click', function(){
  $.ajax({
    type: 'POST',
    url: 'http://localhost:3000/form',
    data:
	{
		name: $("#name").val(),
		email: $("#email").val(),
		phone: $("#phone").val(),
		desc: $("#desc").val(),
		road: $("#road").val(),
		date: $("#date").val(),
		latit: $("#me").val(),
		longi: $("#tu").val()
	},
    success: function(cb){
      console.log('sent data to server');
      alert(cb);
    },
    error: function(){
      alert('error');
    }
  });
});


var x = document.getElementById("demo");

var m;
var b;

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
	
	m = document.getElementById("me").value = innerHTML = position.coords.latitude;
	b = document.getElementById("tu").value = innerHTML = position.coords.longitude;
}

</script>
